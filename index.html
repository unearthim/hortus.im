<!DOCTYPE html>
<html lang="en">
<head>
    <!-- === 0. Base Meta === -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <!-- === 1. Primary Meta Tags === -->
    <title>Letter Garden | Hortus</title>
    <meta name="title" content="Letter Garden | Hortus">
    <meta name="description" content="An interactive botanical typography experiment where you can type a word and watch a unique digital garden grow. Each letter creates a plant with its own characteristics.">
    <meta name="keywords" content="interactive typography, generative art, botanical illustration, digital garden, creative coding, javascript art, svg animation, unearth.im">
    <meta name="author" content="hortus.im (An unearth.im Project)">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    
    <!-- === 2. Canonical & Webmention === -->
    <link rel="canonical" href="https://hortus.im/" />
    <link rel="webmention" href="https://webmention.io/unearth.im/webmention" />

    <!-- === 3. Open Graph / Facebook === -->
    <meta property="og:type" content="website"> 
    <meta property="og:url" content="https://hortus.im/">
    <meta property="og:title" content="Letter Garden | Hortus">
    <meta property="og:description" content="An interactive botanical typography experiment where you can type a word and watch a unique digital garden grow. Each letter creates a plant with its own characteristics.">
    <meta property="og:image" content="https://hortus.im/og-image.png">
    <meta property="og:site_name" content="Hortus">

    <!-- === 4. Twitter Card === -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hortus.im/">
    <meta property="twitter:title" content="Letter Garden | Hortus">
    <meta property="twitter:description" content="An interactive botanical typography experiment where you can type a word and watch a unique digital garden grow. Each letter creates a plant with its own characteristics.">
    <meta property="twitter:image" content="https://hortus.im/og-image.png">

    <!-- === 5. Favicons & Theme === -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="alternate icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#1f2121">
    <meta name="msapplication-TileColor" content="#32b8c6">

    <!-- === 6. Styles & Scripts === -->
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

    <style>
        .garden-footer a {
            color: var(--color-text-secondary); /* Use the secondary text color from your design system */
            text-decoration: none; /* Remove the default underline */
            border-bottom: 1px dotted var(--color-text-secondary); /* Match the text color */
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
        }
        .garden-footer a:hover {
            color: var(--color-text); /* Use the main text color on hover for a brighter effect */
            border-bottom-color: var(--color-text);
        }
    </style>
</head>
<body data-color-scheme="dark">
    <div class="garden-container">
        <header class="garden-header">
            <h1 class="garden-title">Letter Garden</h1>
            <p class="garden-subtitle">Type a word and watch your garden grow</p>
            
            <div class="input-container">
                <input 
                    type="text" 
                    id="wordInput" 
                    class="word-input form-control" 
                    placeholder="Enter a word..."
                    maxlength="20"
                    autocomplete="off"
                    spellcheck="false"
                    aria-label="Type a word using A-Z letters"
                >
                <button id="clearButton" class="btn btn--secondary clear-btn" aria-label="Clear the garden">Clear Garden</button>
            </div>
        </header>

        <main class="garden-main">
            <div class="garden-ground" aria-hidden="true"></div>
            <svg id="gardenSvg" class="garden-svg" viewBox="0 0 1200 600" preserveAspectRatio="xMidYEnd meet" role="img" aria-label="Letter Garden canvas">
                <defs>
                    <filter id="plantGlow" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                        <feMerge> 
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
                <!-- Plants will be dynamically added here -->
            </svg>
            
            <!-- Save Toolbar -->
            <div id="saveToolbar" class="save-toolbar hidden">
                <button id="exportPngBtn" class="save-btn" title="Export as PNG Image">
                    <span class="save-icon">üì∑</span>
                    <span class="save-label">PNG</span>
                </button>
                <button id="exportSvgBtn" class="save-btn" title="Export as SVG File">
                    <span class="save-icon">üé®</span>
                    <span class="save-label">SVG</span>
                </button>
                <button id="generateCodeBtn" class="save-btn" title="Generate Garden Code">
                    <span class="save-icon">üîó</span>
                    <span class="save-label">Code</span>
                </button>
                <button id="saveGardenBtn" class="save-btn" title="Save to Gallery">
                    <span class="save-icon">üíæ</span>
                    <span class="save-label">Save</span>
                </button>
                <button id="openGalleryBtn" class="save-btn" title="Open Gallery">
                    <span class="save-icon">üñºÔ∏è</span>
                    <span class="save-label">Gallery</span>
                </button>
            </div>
        </main>

        <!-- Load Garden Code Input -->
        <div class="code-input-section">
            <div class="form-group">
                <label for="gardenCodeInput" class="form-label">Load Garden Code:</label>
                <div class="code-input-container">
                    <input 
                        type="text" 
                        id="gardenCodeInput" 
                        class="form-control code-input" 
                        placeholder="Enter garden code (e.g., GARDEN-ROSE-A4B2C1)"
                    >
                    <button id="loadCodeBtn" class="btn btn--primary">Load</button>
                </div>
            </div>
        </div>

        <footer class="garden-footer">
            <p class="garden-info">Each letter creates a unique plant with its own characteristics.</p>
            <p class="garden-info">a digital monument by <a href="https://unearth.im" target="_blank" rel="noopener">unearth.im</a></p>
        </footer>
    </div>

    <!-- Modals -->
    
    <!-- Save Garden Modal -->
    <div id="saveGardenModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Save Garden</h3>
                <button class="modal-close" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="gardenName" class="form-label">Garden Name:</label>
                    <input type="text" id="gardenName" class="form-control" placeholder="My Beautiful Garden" maxlength="50">
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirmSaveBtn" class="btn btn--primary">Save Garden</button>
                <button id="cancelSaveBtn" class="btn btn--secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Garden Code Modal -->
    <div id="gardenCodeModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Garden Code</h3>
                <button class="modal-close" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Share this code with others to recreate your garden:</p>
                <div class="code-display">
                    <input type="text" id="generatedCode" class="form-control code-output" readonly>
                    <button id="copyCodeBtn" class="btn btn--secondary">Copy</button>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeCodeBtn" class="btn btn--primary">Close</button>
            </div>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div id="galleryModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-content--large">
            <div class="modal-header">
                <h3>Garden Gallery</h3>
                <button class="modal-close" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="galleryGrid" class="gallery-grid">
                    <div class="gallery-empty">
                        <p>No saved gardens yet. Create a garden and save it to see it here!</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeGalleryBtn" class="btn btn--primary">Close</button>
            </div>
        </div>
    </div>

    <!-- Status Toast -->
    <div id="statusToast" class="status-toast hidden">
        <span id="statusMessage"></span>
    </div>

    <script src="app.js"></script>
</body>
</html>